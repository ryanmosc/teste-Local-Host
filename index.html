<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="Amigos Solidários-favicon.png" type="image/x-icon">
  <title>Voluntários da Saúde</title>
  <!--Link:CSS-->
  <link rel="stylesheet" href="src/styles/lp.css">
  <link rel="stylesheet" href="src/styles/footer.css">
  <link rel="stylesheet" href="src/styles/navbar.css">
  <!----------->
  <script src="https://kit.fontawesome.com/yourkitid.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>

  <!-- ESTILOS PARA LOADING E ERRO -->
  <style>
    .loading {
      text-align: center;
      padding: 40px 20px;
      color: #666;
      font-style: italic;
      font-size: 1.1em;
    }
    .erro {
      text-align: center;
      padding: 40px 20px;
      color: #d32f2f;
      background: #ffebee;
      border-radius: 8px;
      margin: 15px;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <header>
    <nav id="navbar">
      <a href="index.html"><img src="src/img/Amigos Solidários.png" alt="Amigos Solidários" class="nav_img"></a>
      <div class="mobile-menu">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
      </div>
      <ul id="nav_list">
        <li class="nav-item active"><a href="index.html">Início</a></li>
        <li class="nav-item"><a href="sobreNos.html">Sobre nós</a></li>
        <li class="nav-item"><a href="transparencia.html">Transparência</a></li>
        <li class="nav-item"><a href="fale_conosco.html">Fale Conosco</a></li>
        <li class="desktop-buttons-container">
          <div class="navbar-buttons">
            <a href="seja_voluntario.html" class="btn-default2">Seja Voluntário</a>
            <a href="doacao.html" class="btn-default">Doe Agora</a>
          </div>
        </li>
        <li class="nav-item-mobile"><a href="seja_voluntario.html" class="btn-voluntario-mobile">Seja Voluntário</a></li>
        <li class="nav-item-mobile"><a href="doacao.html" class="btn-default">Doe Agora</a></li>
      </ul>
    </nav>
  </header>

  <main id="content">
    <!-- BLOCO 1: Hero -->
    <section id="home">
      <div id="cta">
        <h1 class="title">
          Acolhendo com cuidado Promovendo <span>Bem-estar</span>
        </h1>
        <p class="description">
          Somos o Centro Voluntários da Saúde, ao lado dos pacientes da Santa Casa de Pedregulho
        </p>
        <div id="cta_buttons">
          <a href="seja_voluntario.html" class="btn-default">Seja Voluntario</a>
        </div>
        <div class="social-media-buttons">
          <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
          <a href="#"><i class="fa-brands fa-instagram"></i></a>
          <a href="#"><i class="fa-brands fa-facebook"></i></a>
        </div>
      </div>
      <div class="banner_container">
        <div class="shape"></div>
        <img src="src/img/Mão Geométrica com Coração Branco.png" alt="imagem central" class="mao-banner">
        <div class="grid">
          <div class="square yellow"></div>
          <div class="square cyan"></div>
          <div class="square gray"></div>
          <div class="square red"></div>
          <div class="square cyan"></div>
          <div class="square lightgray"></div>
          <div class="square orange"></div>
          <div class="s8 square red"></div>
          <div class="s9 square yellow"></div>
          <div class="s10 square lightgray"></div>
        </div>
      </div>
    </section>

    <!-- BLOCO 2: Benefícios -->
    <section class="bloco beneficios">
      <h2>Por que participar?</h2>
      <div class="cartoes">
        <div class="cartao">
          <h3>Impacto real</h3>
          <p>Suas ações contribuem diretamente para o bem-estar de pacientes.</p>
        </div>
        <div class="cartao">
          <h3>Comunidade unida</h3>
          <p>Você faz parte de um grupo solidário que promove encontros e apoio mútuo.</p>
        </div>
        <div class="cartao">
          <h3>Experiência enriquecedora</h3>
          <p>Ganha aprendizado, reconhecimento e crescimento pessoal.</p>
        </div>
      </div>
    </section>

    <!-- BLOCO 3: Eventos e Atualizações -->
    <section class="eventos-atualizacoes">
      <div class="eventos">
        <h2>Próximos Eventos</h2>
        <div class="evento-conteudo" id="evento-conteudo">
          <!-- Carregado dinamicamente -->
        </div>
      </div>
      <div class="atualizacoes">
        <h2>Atualizações</h2>
        <div class="cards-atualizacoes">
          <!-- Carregado dinamicamente -->
        </div>
      </div>
    </section>

    <!-- BLOCO 4: Depoimentos -->
    <section class="bloco depoimentos" id="testimonials">
      <h2>O que nossos voluntários dizem</h2>
      <div class="depoimentos-grid">
        <div class="depoimento">
          <p>"Ser voluntária mudou minha vida. A ONG é organizada e acolhedora!"</p>
          <span>– Ana P.</span>
        </div>
        <div class="depoimento">
          <p>"Saber que estou ajudando alguém todo mês é gratificante. Recomendo demais!"</p>
          <span>– Carlos M.</span>
        </div>
        <div class="depoimento">
          <p>"A união do grupo e a energia nos eventos é contagiante. Vale a pena participar."</p>
          <span>– Lúcia R.</span>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <hr class="footer-divider">
    <div class="footer-container">
      <div class="footer-left">
        <a href="#" class="footer-logo">
          <img src="src/img/Amigos Solidários.png" alt="Logo Amigos Solidários Pedregulho-SP">
        </a>
      </div>
      <div class="footer-center">
        <h3>Santa Casa de Misericórdia de Pedregulho</h3>
        <p>
          R. Ten. Salviana 125<br>
          Pedregulho, SP, 14470-000
        </p>
        <div class="social-links">
          <p class="social-links-title">Acompanhe nossas redes sociais</p>
          <div class="social-icons">
            <a href="https://wa.me/SEUNUMERO" target="_blank" rel="noopener noreferrer">
              <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
            </a>
            <a href="https://facebook.com/voluntariospedregulho" target="_blank" rel="noopener noreferrer">
              <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook">
            </a>
            <a href="https://instagram.com/voluntariosdasaude36" target="_blank" rel="noopener noreferrer">
              <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
            </a>
          </div>
        </div>
      </div>
      <div class="footer-right">
        <div class="map-container">
          <iframe src="https://maps.google.com/maps?q=R.%20Ten.%20Salviana%20125%20Pedregulho%20SP&t=&z=15&ie=UTF8&iwloc=&output=embed" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
    </div>
    <hr class="footer-divider">
    <div class="footer-copyright">
      ©2025 Voluntários da Saúde. Todos os direitos Reservados. Desenvolvido por <a href="#" target="_blank">Devs In Action (FATEC)</a>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="mobile-navbar.js"></script>
  <script src="src/scripts/navbar.js"></script>
  <script src="src/scripts/index.js"></script>
  <script src="src/scripts/animacao.js"></script>

  <!-- SCRIPT DE EVENTOS E ATUALIZAÇÕES (EMBUTIDO) -->
  <script>
    // src/scripts/eventos.js — embutido diretamente
    document.addEventListener('DOMContentLoaded', async () => {
      await Promise.all([
        carregarEventos(),
        carregarAtualizacoes()
      ]);
    });

    async function carregarEventos() {
      const container = document.getElementById('evento-conteudo');
      if (!container) return;

      container.innerHTML = '<p class="loading">Carregando eventos...</p>';

      try {
        const res = await fetch('https://api.voluntariosdasaude.com.br/api/gerencia/eventos');
        if (!res.ok) throw new Error('Falha na API de eventos');
        const eventos = await res.json();

        container.innerHTML = '';
        eventos.forEach(evento => container.appendChild(criarCardEvento(evento)));

        ScrollTrigger.refresh();
      } catch (err) {
        console.error('Erro ao carregar eventos:', err);
        container.innerHTML = '<p class="erro">Erro ao carregar eventos.</p>';
      }
    }

    async function carregarAtualizacoes() {
      const container = document.querySelector('.cards-atualizacoes');
      if (!container) return;

      container.innerHTML = '<p class="loading">Carregando atualizações...</p>';

      try {
        const res = await fetch('https://api.voluntariosdasaude.com.br/api/gerencia/atualizacoes');
        if (!res.ok) throw new Error('Falha na API de atualizações');
        const atualizacoes = await res.json();

        container.innerHTML = '';
        atualizacoes.forEach(atualizacao => container.appendChild(criarCardAtualizacao(atualizacao)));

        ScrollTrigger.refresh();
      } catch (err) {
        console.error('Erro ao carregar atualizações:', err);
        container.innerHTML = '<p class="erro">Erro ao carregar atualizações.</p>';
      }
    }

    function criarCardEvento(evento) {
  const card = document.createElement('div');
  card.className = 'evento-card';

  const img = document.createElement('img');
  img.src = evento.imagem;
  img.alt = "Evento";
  img.onerror = () => img.src = 'adicionais/img_eventos/placeholder.png';

  card.append(img);
  return card;
}


    function criarCardAtualizacao(atualizacao) {
      const link = document.createElement('a');
      link.href = atualizacao.link || 'https://www.instagram.com/voluntariosdasaude36/';
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      link.className = 'card-link-wrapper';

      const card = document.createElement('div');
      card.className = 'card-atualizacao';

      const img = document.createElement('img');
      img.src = atualizacao.imagem;
      img.alt = atualizacao.texto;
      img.onerror = () => img.src = 'adicionais/img_atualizacoes/placeholder.png';

      const texto = document.createElement('p');
      texto.textContent = atualizacao.texto;

      card.append(img, texto);
      link.appendChild(card);
      return link;
    }
  </script>
</body>
</html>